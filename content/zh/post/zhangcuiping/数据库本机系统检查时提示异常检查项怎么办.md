+++

title = "数据库本机系统检查时提示异常检查项怎么办" 

date = "2023-06-15" 

tags = ["数据库本机系统检查时提示异常检查项怎么办"] 

archives = "2023-06" 

author = "张翠娉" 

summary = "数据库本机系统检查时提示异常检查项怎么办"

img = "/zh/post/zhangcuiping/title/img.png" 

times = "14:20"

+++

# 数据库本机系统检查时提示异常检查项怎么办？

**背景介绍**：

PTK (Provisioning Toolkit)是一款针对 MogDB 数据库开发的软件安装和运维工具，旨在帮助用户更便捷地安装部署MogDB数据库。

如果用户想要运行 MogDB 或者 MogDB 的相关组件时，仅需要执行一行命令即可实现。

PTK 支持安装 MogDB 的操作系统众多，达到22个，后期还会不断增多。

本次在使用PTK进行安装前本机系统检查时，系统提示如下错误信息。

**报错内容**：

```
[root@kylinos uqbar]# ptk checkos -f config.yaml
# Check Results
                Item                |  Level
------------------------------------+-----------
  A1.Check_OS_Version               | OK
  A2.Check_Kernel_Version           | OK
  A3.Check_Unicode                  | OK
  A4.Check_TimeZone                 | OK
  A5.Check_Swap_Memory_Configure    | OK
  A6.Check_SysCtl_Parameter         | Abnormal
  A7.Check_FileSystem_Configure     | OK
  A8.Check_Disk_Configure           | OK
  A9.Check_BlockDev_Configure       | Warning
  A9.Check_Logical_Block            | OK
  A10.Check_IO_Request              | Warning
  A10.Check_Asynchronous_IO_Request | OK
  A10.Check_IO_Configure            | OK
  A11.Check_Network_Configure       | OK
  A12.Check_Time_Consistency        | OK
  A13.Check_Firewall_Status         | Abnormal
  A14.Check_THP_Status              | Abnormal
  A15.Check_Dependent_Package       | OK
  A16.Check_CPU_Instruction_Set     | OK
  A17.Check_Port                    | OK
  A18.Check_Selinux                 | Abnormal
  A19.Check_User_Ulimit             | OK
 Failed to check os, can't perform installation unless fix all the abnormal items. 
 You can use 'ptk checkos -i ITEM --detail' to get detail message
 Please check root_fix_os.[TIMESTAMP].sh for commands to resolve.
```

错误信息显示多个abnormal item。需要将abnormal items修复后，才可执行安装。

**解决办法**：

1. 在当前目录下，查看生成的`root_fix_os.[TIMESTAMP].sh`脚本文件。

2. 执行该脚本文件即可修复异常检查项。

   ```
   sh root_fix_os.[TIMESTAMP].sh
   ```

3. 修复后执行安装即可。
